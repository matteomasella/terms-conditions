<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2M Apartments - Policy & Terms</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* --- PALETTE DARK MODE ELEGANT --- */
            --bg-dark-1: #021216; 
            --bg-dark-2: #062c30; 
            --brand-primary: #4FD1C5; 
            --brand-accent: #FF6B6B;  
            --brand-gold: #FFD700;
            --text-main: #f0f0f0;     
            --text-muted: #b0bec5;    
            --glass-container: rgba(10, 30, 35, 0.85); 
            --glass-card: rgba(255, 255, 255, 0.05); 
            --glass-border: rgba(255, 255, 255, 0.15); 
            --shadow-soft: 0 10px 40px -10px rgba(0,0,0,0.6);
        }
        
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: radial-gradient(circle at top, var(--bg-dark-2), var(--bg-dark-1));
            background-attachment: fixed;
            color: var(--text-main);
            line-height: 1.6;
            margin: 0;
            padding: 15px;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden; /* Previene scroll orizzontale */
        }

        /* --- LOGIN OVERLAY STYLES --- */
        #login-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, #062c30, #010b0e);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }
        .login-box {
            background: rgba(10, 30, 35, 0.9);
            border: 1px solid var(--brand-primary);
            padding: 40px;
            border-radius: 24px;
            text-align: center;
            max-width: 350px;
            width: 90%;
            box-shadow: 0 0 30px rgba(79, 209, 197, 0.2);
        }
        .login-logo { width: 100px; margin-bottom: 20px; filter: drop-shadow(0 0 5px rgba(255,255,255,0.2)); }
        .login-title { font-size: 1.2em; margin-bottom: 20px; color: #fff; }
        .login-input {
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            border: 1px solid var(--glass-border);
            background: rgba(255,255,255,0.1);
            color: #fff;
            font-size: 1.2em;
            text-align: center;
            margin-bottom: 15px;
            outline: none;
            letter-spacing: 5px;
            box-sizing: border-box; /* Fix padding issue */
        }
        .login-input:focus { border-color: var(--brand-primary); }
        .login-btn {
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            background: var(--brand-primary);
            color: #002e33;
            font-weight: bold;
            font-size: 1.1em;
            border: none;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .login-btn:hover { transform: scale(1.02); background: #fff; }
        .error-msg { color: var(--brand-accent); margin-top: 10px; font-size: 0.9em; min-height: 20px; }

        /* Nascondi il contenuto principale finch√© non loggati */
        .main-content-wrapper { filter: blur(5px); opacity: 0; transition: all 0.5s ease; }
        .main-content-wrapper.unlocked { filter: blur(0); opacity: 1; }

        /* --- FINE STILI LOGIN --- */

        .container {
            max-width: 900px;
            margin: auto;
            padding: 25px 30px 40px 30px;
            border-radius: 24px;
            background: var(--glass-container);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
        }
        
        /* HEADER */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--glass-border);
            padding-bottom: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 20px;
        }
        .header-brand { display: flex; align-items: center; gap: 15px; flex: 1; }
        .logo-img {
            height: 90px; width: auto; object-fit: contain;
            border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);
        }
        h1 { color: #fff; margin: 0; font-size: 1.5em; font-weight: 700; letter-spacing: -0.5px; }
        .header-controls { display: flex; flex-direction: column; align-items: flex-end; gap: 10px; }

        /* BUTTONS */
        .switcher-group { display: flex; gap: 5px; background: rgba(0, 0, 0, 0.4); padding: 4px; border-radius: 30px; border: 1px solid var(--glass-border); }
        .switch-btn {
            background: transparent; border: none; color: var(--text-muted);
            padding: 6px 14px; border-radius: 25px; cursor: pointer;
            font-weight: 600; font-size: 0.9em; transition: all 0.2s ease;
        }
        .switch-btn.active {
            background: var(--brand-primary); color: #002e33; 
            box-shadow: 0 2px 10px rgba(79, 209, 197, 0.3);
        }
        .switch-btn:hover:not(.active) { color: #fff; }
        .lang-btn { padding: 6px 10px; font-size: 0.85em; }

        @media (max-width: 768px) {
            .header { flex-direction: column; text-align: center; }
            .header-brand { flex-direction: column; width: 100%; margin-bottom: 10px;}
            .header-controls { align-items: center; width: 100%; }
            .logo-img { height: 100px; margin-bottom: 5px; }
        }

        /* QUICK GUIDE */
        .quick-guide { background: var(--glass-card); border-radius: 16px; padding: 25px; margin-bottom: 35px; border: 1px solid var(--glass-border); }
        .quick-guide h2 {
            color: var(--brand-primary); margin-top: 0; font-size: 1.4em;
            border-bottom: 1px solid var(--glass-border); padding-bottom: 10px; margin-bottom: 20px;
            display: flex; align-items: center; gap: 10px;
        }
        .quick-intro { font-size: 1.05em; margin-bottom: 20px; font-style: italic; color: var(--text-muted); }
        .quick-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        @media (max-width: 600px) { .quick-grid { grid-template-columns: 1fr; } }
        
        .quick-item {
            background: rgba(255, 255, 255, 0.03); padding: 12px 15px; border-radius: 12px;
            display: flex; align-items: center; gap: 12px; border: 1px solid transparent;
        }

        /* HOSPITALITY MODEL */
        .energy-box { background: rgba(255, 255, 255, 0.03); border: 1px solid var(--glass-border); border-radius: 20px; padding: 30px; margin-top: 30px; }
        .energy-box h3 {
            color: var(--brand-primary); margin-top: 0; margin-bottom: 5px;
            display: flex; align-items: center; gap: 15px; font-size: 1.5em;
        }
        .energy-subtitle {
            font-size: 1em; color: var(--text-muted); font-weight: 500; margin-bottom: 30px;
            text-transform: uppercase; letter-spacing: 1px; margin-left: 54px;
        }
        .hospitality-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 15px; margin-bottom: 25px; }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.06); padding: 20px; border-radius: 16px;
            border: 1px solid var(--glass-border); display: flex; align-items: center; gap: 15px; transition: background 0.3s;
        }
        .feature-card.inclusive { background: rgba(242, 92, 84, 0.1); border-color: rgba(242, 92, 84, 0.3); }
        .feature-text { font-weight: 600; color: #fff; margin: 0; font-size: 1.05em; line-height: 1.3; }
        
        /* ICONS */
        .glass-icon-wrapper {
            width: 48px; height: 48px; border-radius: 50%;
            background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.05));
            border: 1px solid rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2); color: var(--brand-primary); flex-shrink: 0; cursor: default;
        }
        .feature-card.inclusive .glass-icon-wrapper { color: var(--brand-accent); background: linear-gradient(135deg, rgba(242,92,84,0.2), rgba(242,92,84,0.05)); border-color: rgba(242,92,84,0.3); }
        .glass-icon-wrapper svg { width: 24px; height: 24px; fill: none; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
        .quick-item .glass-icon-wrapper { width: 32px; height: 32px; border-radius: 8px; }
        .quick-item .glass-icon-wrapper svg { width: 18px; height: 18px; }
        .accordion-icon-wrapper {
            width: 32px; height: 32px; border-radius: 8px; background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center;
            margin-right: 15px; color: var(--brand-primary); flex-shrink: 0;
        }
        .accordion-icon-wrapper svg { width: 18px; height: 18px; fill: none; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }

        .accessibility-note {
            background: rgba(0, 0, 0, 0.3); border: 1px solid var(--glass-border); border-radius: 12px;
            padding: 20px; font-size: 0.95em; color: var(--text-muted); display: flex; gap: 15px; align-items: flex-start;
        }
        .accessibility-note strong { color: #fff; }
        .accessibility-note .glass-icon-wrapper { width: 36px; height: 36px; border-radius: 50%; color: #3498db; }

        /* TIERS PER LONG STAY */
        .tiers-container { display: flex; gap: 20px; margin-bottom: 20px; flex-wrap: wrap; }
        .tier-box {
            flex: 1; min-width: 280px; background: rgba(255,255,255,0.03); border: 1px solid var(--glass-border);
            border-radius: 12px; padding: 20px;
        }
        .tier-box h4 { margin-top: 0; color: #fff; font-size: 1.1em; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 10px; margin-bottom: 15px; }
        .tier-box.premium { background: linear-gradient(145deg, rgba(255, 215, 0, 0.05), rgba(0,0,0,0)); border: 1px solid var(--brand-gold); }
        .tier-box.premium h4 { color: var(--brand-gold); }
        .free-badge { background: var(--brand-gold); color: #000; font-weight: bold; padding: 2px 6px; border-radius: 4px; font-size: 0.8em; margin-left: 5px; text-transform: uppercase; }

        .transition-note {
            text-align: center; margin: 40px 0 20px 0; font-weight: 700; color: var(--brand-primary);
            font-size: 0.95em; text-transform: uppercase; letter-spacing: 1.5px;
        }

        /* ACCORDION */
        .accordion {
            background: rgba(255, 255, 255, 0.05); color: #fff; cursor: pointer; padding: 20px 25px; width: 100%;
            border: 1px solid var(--glass-border); text-align: left; outline: none; font-size: 1.1em;
            transition: background 0.3s; border-radius: 12px; margin-top: 12px; font-weight: 600; display: flex; align-items: center;
        }
        .accordion-title-container { display: flex; align-items: center; flex-grow: 1; }
        .accordion:hover { background: rgba(255, 255, 255, 0.08); border-color: var(--brand-primary); }
        .accordion.active {
            background: rgba(79, 209, 197, 0.15); color: var(--brand-primary);
            border-radius: 12px 12px 0 0; border-color: var(--brand-primary); border-bottom: none;
        }
        .accordion .icon { font-size: 1.2em; margin-left: 10px;}
        .accordion .icon:after { content: '+'; }
        .accordion.active .icon:after { content: '‚àí'; }
        
        .panel {
            padding: 0 25px; background: rgba(0, 0, 0, 0.2); max-height: 0; overflow: hidden;
            transition: max-height 0.4s ease-out, padding 0.4s ease-out; border: 1px solid var(--brand-primary);
            border-top: none; border-radius: 0 0 12px 12px; color: var(--text-muted);
        }
        .panel h2, .panel h3 { color: var(--brand-accent); margin-top: 25px; margin-bottom: 10px; font-size: 1.1em; font-weight: 700; }
        .panel p { margin-bottom: 15px; }
        .panel ul { list-style-type: none; padding-left: 0; }
        .panel li { margin-bottom: 12px; padding-left: 25px; position: relative; }
        .panel li::before { content: '‚Ä¢'; color: var(--brand-primary); position: absolute; left: 0; font-weight: bold; font-size: 1.2em; }
        
        .important-note {
            background: rgba(242, 92, 84, 0.15); border-left: 3px solid var(--brand-accent);
            padding: 15px; margin: 20px 0; border-radius: 6px; font-size: 0.95em; color: #fff;
        }
        .warning-text {
            color: #ff8a80; font-weight: bold; margin-top: 15px; border: 1px solid #ff8a80;
            padding: 12px; border-radius: 8px; background: rgba(255, 0, 0, 0.1);
        }

        /* CHATBOT */
        #chat-container { margin-top: 50px; border-radius: 20px; overflow: hidden; background: var(--glass-container); border: 1px solid var(--glass-border); }
        #chat-header { background: rgba(0, 0, 0, 0.3); color: var(--brand-primary); padding: 15px; text-align: center; font-size: 1.1em; font-weight: bold; border-bottom: 1px solid var(--glass-border); }
        #chat-box { height: 300px; overflow-y: auto; padding: 20px; background-color: transparent; display: flex; flex-direction: column; gap: 15px; }
        .chat-message { padding: 10px 16px; border-radius: 18px; max-width: 85%; word-wrap: break-word; font-size: 0.95em; }
        .user-message { background-color: var(--brand-primary); color: #003333; align-self: flex-end; border-bottom-right-radius: 2px; }
        .bot-message { background: rgba(255, 255, 255, 0.1); color: #fff; align-self: flex-start; border: 1px solid rgba(255,255,255,0.1); border-bottom-left-radius: 2px; }
        #chat-input-container { display: flex; padding: 15px; border-top: 1px solid var(--glass-border); background-color: rgba(0,0,0,0.2); }
        #user-input { flex-grow: 1; background: rgba(255, 255, 255, 0.05); border: 1px solid var(--glass-border); padding: 12px 18px; border-radius: 25px; margin-right: 10px; font-size: 1em; color: #fff; }
        #user-input:focus { outline: none; border-color: var(--brand-primary); background: rgba(255,255,255,0.1); }
        #send-btn { background-color: var(--brand-primary); color: #004D54; border: none; padding: 0 20px; border-radius: 25px; cursor: pointer; font-weight: bold; }
        
        @media (max-width: 768px) {
            .hospitality-grid { grid-template-columns: 1fr; }
            .accessibility-note { flex-direction: column; text-align: center; align-items: center; }
            .feature-card { flex-direction: row; text-align: left; }
            .energy-subtitle { margin-left: 0; }
            .tiers-container { flex-direction: column; }
        }
    </style>
</head>
<body>

<div id="login-overlay">
    <div class="login-box">
        <img src="logo.png" alt="Logo" class="login-logo">
        <h3 class="login-title">Area Riservata Ospiti</h3>
        <input type="password" id="access-code" class="login-input" placeholder="Codice" maxlength="4">
        <button onclick="checkCode()" class="login-btn">ACCEDI</button>
        <div id="error-msg" class="error-msg"></div>
    </div>
</div>

<div class="main-content-wrapper" id="main-content">
    <div class="container">
        <div class="header">
            <div class="header-brand">
                <img src="logo.png" alt="2EMME Apartments Logo" class="logo-img">
                <h1 data-key="mainTitle">Welcome & Policy</h1>
            </div>
            
            <div class="header-controls">
                <div class="switcher-group">
                    <button class="switch-btn active" id="stay-short">Short Stay</button>
                    <button class="switch-btn" id="stay-long">Long Stay</button>
                </div>
                <div class="switcher-group">
                    <button class="switch-btn lang-btn active" id="lang-it">IT</button>
                    <button class="switch-btn lang-btn" id="lang-en">EN</button>
                    <button class="switch-btn lang-btn" id="lang-es">ES</button>
                    <button class="switch-btn lang-btn" id="lang-fr">FR</button>
                    <button class="switch-btn lang-btn" id="lang-de">DE</button>
                    <button class="switch-btn lang-btn" id="lang-pt">PT</button>
                </div>
            </div>
        </div>

        <div class="quick-guide">
            <h2 data-key="quickTitle">
                <div class="accordion-icon-wrapper" style="margin-right:10px;"><svg viewBox="0 0 24 24"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg></div>
                Quick Guide & House Rules
            </h2>
            <p class="quick-intro" data-key="quickIntro">
                Siamo felici di averti qui!
            </p>
            
            <div class="quick-grid" data-key="quickGrid">
                </div>

            <div class="energy-box">
                <h3 data-key="hospitalityTitle">
                    <div class="glass-icon-wrapper" style="margin:0;"><svg viewBox="0 0 24 24"><path d="M12 3L2 12h3v8h6v-6h2v6h6v-8h3L12 3zm0 10c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></svg></div>
                    Il nostro modello di ospitalit√†
                </h3>
                <div class="energy-subtitle" data-key="hospitalitySubtitle">Accoglienza responsabile, sostenibile e inclusiva</div>
                
                <div class="hospitality-grid">
                    <div class="feature-card">
                        <div class="glass-icon-wrapper">
                            <svg viewBox="0 0 24 24"><path d="M21.5 2h-4a5.5 5.5 0 00-3.9 9.1L5 20v2h2l8.9-8.6A5.5 5.5 0 0021.5 2zm-4 7a2.5 2.5 0 110-5 2.5 2.5 0 010 5z"/></svg>
                        </div>
                        <p class="feature-text" data-key="hospDesign">Design a basso impatto</p>
                    </div>
                    <div class="feature-card inclusive">
                        <div class="glass-icon-wrapper">
                            <svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                        </div>
                        <div>
                            <p class="feature-text" data-key="hospPeople">Accoglienza inclusiva</p>
                        </div>
                    </div>
                    <div class="feature-card">
                        <div class="glass-icon-wrapper">
                            <svg viewBox="0 0 24 24"><path d="M7 2v11h3v9l7-12h-4l4-8z"/></svg>
                        </div>
                        <p class="feature-text" data-key="hospEnergy">Gestione energetica efficiente</p>
                    </div>
                    <div class="feature-card">
                        <div class="glass-icon-wrapper">
                            <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        </div>
                        <p class="feature-text" data-key="hospLocal">Fornitori locali</p>
                    </div>
                    <div class="feature-card">
                        <div class="glass-icon-wrapper">
                            <svg viewBox="0 0 24 24"><path d="M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5zm5.8-10l2.4-2.4.8.8c1.3 1.3 3 2.1 5.1 2.1V9c-1.5 0-2.7-.6-3.6-1.5l-1.9-1.9c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.9 1-2.2 1.5-3.5 1.5-1.1 0-2.1-.4-2.9-1.1L3.4 8.2c-.4.4-.3 1.1.1 1.4l3.5 3c.7.6 1.7 1 2.7 1h5.8c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5H12v1.5h3.5c1.7 0 3-1.3 3-3s-1.3-3-3-3H9.8c-.5 0-1-.2-1.4-.5l-2.6-2zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"/></svg>
                        </div>
                        <p class="feature-text" data-key="hospGreen">Mobilit√† green</p>
                    </div>
                    <div class="feature-card">
                        <div class="glass-icon-wrapper">
                            <svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/></svg>
                        </div>
                        <p class="feature-text" data-key="hospGuest">Coinvolgimento attivo degli ospiti</p>
                    </div>
                </div>

                <div class="accessibility-note">
                    <div class="glass-icon-wrapper" style="width:36px; height:36px; color:#3498db; margin:0;"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg></div>
                    <div data-key="accessibilityText"></div>
                </div>
            </div>
        </div>

        <div class="transition-note" data-key="transitionText">
            ‚¨áÔ∏è Per dettagli legali, clausole e costi completi, espandi le sezioni qui sotto ‚¨áÔ∏è
        </div>

        <button class="accordion">
            <div class="accordion-title-container">
                <div class="accordion-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/></svg></div>
                <span data-key="paymentTitle">Prenotazioni Dirette: Pagamenti & Cancellazione</span>
            </div>
            <span class="icon"></span>
        </button>
        <div class="panel" data-key="paymentContent"></div>

        <button class="accordion">
            <div class="accordion-title-container">
                <div class="accordion-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.86 0 .92-.81 1.67-2.19 1.67-1.55 0-2.18-.83-2.24-1.84h-1.71c.09 1.78 1.13 2.66 2.68 3.01V20h2v-1.81c1.99-.24 2.83-1.53 2.83-2.91 0-2.09-1.5-2.87-3.79-3.42z"/></svg></div>
                <span data-key="costsTitle">Costi, Tasse e Depositi</span>
            </div>
            <span class="icon"></span>
        </button>
        <div class="panel">
          <div id="costs-container-target"></div> 
        </div>

        <button class="accordion"><div class="accordion-title-container"><div class="accordion-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/></svg></div><span data-key="rulesTitle">Regole della Casa</span></div><span class="icon"></span></button>
        <div class="panel"><ul data-key="rulesList"></ul></div>

        <button class="accordion"><div class="accordion-title-container"><div class="accordion-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M17 8C8 10 5.9 16.17 3.82 21.34l1.89.66l.95-2.3c.48.17.98.3 1.34.3C19 20 22 3 22 3c-1 2-8 2.25-13 3.25S2 11.5 2 13.5s1.75 3.75 1.75 3.75C7 8 17 8 17 8z"/></svg></div><span data-key="greenTitle">Politica Ecologica</span></div><span class="icon"></span></button>
        <div class="panel"><ul data-key="greenList"></ul></div>

        <button class="accordion"><div class="accordion-title-container"><div class="accordion-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg></div><span data-key="visionTitle">D&I e Vision</span></div><span class="icon"></span></button>
        <div class="panel"><div data-key="visionContent"></div></div>
        
        <button class="accordion"><div class="accordion-title-container"><div class="accordion-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/></svg></div><span data-key="damageTitle">Deposito e Polizza</span></div><span class="icon"></span></button>
        <div class="panel" data-key="damageDetails"></div>

        <button class="accordion"><div class="accordion-title-container"><div class="accordion-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg></div><span data-key="contractTitle">Contratto</span></div><span class="icon"></span></button>
        <div class="panel"><div data-key="contractContent"></div></div>

        <button class="accordion"><div class="accordion-title-container"><div class="accordion-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/></svg></div><span data-key="privacyTitle">Privacy</span></div><span class="icon"></span></button>
        <div class="panel" data-key="privacyContent"></div>

        <div id="chat-container">
            <div id="chat-header" data-key="chatHeader">Assistente Virtuale</div>
            <div id="chat-box"></div>
            <div id="chat-input-container">
                <input type="text" id="user-input" data-key="chatPlaceholder" placeholder="Scrivi la tua domanda qui...">
                <button id="send-btn" data-key="chatSend">Invia</button>
            </div>
        </div>
    </div>
</div>

<script>
    // --- CONFIGURAZIONE PASSWORD ---
    const correctCode = "2024"; 

    function checkCode() {
        const input = document.getElementById('access-code').value;
        const overlay = document.getElementById('login-overlay');
        const mainContent = document.getElementById('main-content');
        const errorMsg = document.getElementById('error-msg');

        if(input === correctCode) {
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.display = 'none';
                mainContent.classList.add('unlocked');
            }, 500);
        } else {
            errorMsg.textContent = "Codice errato. Riprova.";
            document.getElementById('access-code').value = '';
            // Shake effect
            document.querySelector('.login-box').style.transform = 'translateX(5px)';
            setTimeout(() => { document.querySelector('.login-box').style.transform = 'translateX(0)'; }, 100);
        }
    }

    // Supporto tasto Enter nel login
    document.getElementById('access-code').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            checkCode();
        }
    });

    document.addEventListener('DOMContentLoaded', function() {
        // ... (IL RESTO DELLO SCRIPT RIMANE INVARIATO: icone, testi, traduzioni) ...
        // INCOLLARE QUI TUTTO LO SCRIPT JS DEFINITIVO CHE TI HO DATO NELLA RISPOSTA PRECEDENTE 
        // (PER RISPARMIARE SPAZIO NON LO RIPETO QUI, MA √à QUELLO DELLA RISPOSTA "Ecco il codice COMPLETO al 100%")
        
        // --- INSERIRE QUI SOTTO IL CONTENUTO DELLO SCRIPT DELLA RISPOSTA PRECEDENTE ---
        const icons = {
            users: '<div class="glass-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg></div>',
            noSmoke: '<div class="glass-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-4h2v-2h-2v2zm0-4h2V7h-2v5z"/></svg></div>', 
            paw: '<div class="glass-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15H9v-2h2v2zm0-4H9V7h2v6zm4 4h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg></div>', 
            moon: '<div class="glass-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M9 2c-1.05 0-2.05.16-3 .46 2.89 1.14 4.97 3.96 4.97 7.29 0 4.29-3.48 7.78-7.78 7.78-1.42 0-2.75-.41-3.89-1.12C.36 18.78 3.12 22 7.5 22c5.8 0 10.5-4.7 10.5-10.5S13.3 2 7.5 2z"/></svg></div>',
            party: '<div class="glass-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"/></svg></div>', 
            recycle: '<div class="glass-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M7 19l4.43-12.75 4.57 12.75H7z" fill="none" stroke="currentColor"/><path d="M7.44 19L12 6.31 16.56 19H7.44zM12 2L2 22h20L12 2z"/></svg></div>',
            toilet: '<div class="glass-icon-wrapper"><svg viewBox="0 0 24 24"><path d="M9 21h6v-2H9v2zm3-4c4.42 0 8-3.58 8-8V5H4v4c0 4.42 3.58 8 8 8z"/></svg></div>'
        };

        const texts = {
            mainTitleShort: { it: "Benvenuto & Regolamento", en: "Welcome & Policy", es: "Bienvenida y Normas", fr: "Bienvenue et R√®gles", de: "Willkommen & Regeln", pt: "Bem-vindo e Regras" },
            mainTitleLong: { it: "Termini e Condizioni per Soggiorni Lunghi", en: "Terms and Conditions for Long Stay", es: "T√©rminos y Condiciones para Estancias Largas", fr: "Termes et Conditions pour Longs S√©jours", de: "Allgemeine Gesch√§ftsbedingungen f√ºr Langzeitaufenthalte", pt: "Termos e Condi√ß√µes para Longa Dura√ß√£o" },
            
            // QUICK GUIDE
            quickTitle: { it: "Quick Guide: Regole della Casa", en: "Quick Guide: House Rules", es: "Gu√≠a R√°pida: Normas", fr: "Guide Rapide : R√®gles", de: "Kurzanleitung: Hausregeln", pt: "Guia R√°pido: Regras da Casa" },
            quickIntro: {
                it: "Siamo felici di averti qui! Per garantire a tutti un'esperienza confortevole, abbiamo raccolto alcune semplici linee guida amichevoli.",
                en: "We're so happy to have you stay with us! Here are a few friendly guidelines to ensure a comfortable experience for everyone.",
                es: "¬°Estamos muy contentos de tenerte aqu√≠! Aqu√≠ tienes algunas pautas amistosas para asegurar una experiencia c√≥moda.",
                fr: "Nous sommes ravis de vous accueillir ! Voici quelques directives amicales pour assurer un s√©jour confortable √† tous.",
                de: "Wir freuen uns, Sie bei uns zu haben! Hier ein paar freundliche Richtlinien f√ºr einen angenehmen Aufenthalt.",
                pt: "Estamos felizes em receb√™-lo! Aqui est√£o algumas diretrizes amig√°veis para garantir uma experi√™ncia confort√°vel para todos."
            },
            quickGrid: {
                it: `<div class="quick-item">${icons.users}<span><strong>Solo Ospiti Registrati:</strong> Solo persone ufficialmente registrate.</span></div>
                     <div class="quick-item">${icons.noSmoke}<span><strong>Solo Aria Fresca:</strong> Vietato fumare all'interno.</span></div>
                     <div class="quick-item">${icons.paw}<span><strong>Niente Amici a 4 Zampe:</strong> Non adatto agli animali (allergie).</span></div>
                     <div class="quick-item">${icons.moon}<span><strong>Shhh... Ore di Silenzio:</strong> 21:00 - 07:00. Rispetta i vicini.</span></div>
                     <div class="quick-item">${icons.party}<span><strong>Modalit√† Relax:</strong> Niente feste o grandi eventi.</span></div>
                     <div class="quick-item">${icons.recycle}<span><strong>Green & Pulito:</strong> Segui la guida alla raccolta differenziata.</span></div>
                     <div class="quick-item">${icons.toilet}<span><strong>WC (Sanitrit):</strong> Solo carta igienica nel The NoLo Nest.</span></div>`,
                en: `<div class="quick-item">${icons.users}<span><strong>Registered Guests Only:</strong> Officially registered people only.</span></div>
                     <div class="quick-item">${icons.noSmoke}<span><strong>Fresh Air Only:</strong> No smoking inside.</span></div>
                     <div class="quick-item">${icons.paw}<span><strong>No 4-Legged Friends:</strong> Not suitable for pets (allergies).</span></div>
                     <div class="quick-item">${icons.moon}<span><strong>Shhh... Quiet Hours:</strong> 9 PM - 7 AM. Respect neighbors.</span></div>
                     <div class="quick-item">${icons.party}<span><strong>Relax Mode:</strong> No parties or large events.</span></div>
                     <div class="quick-item">${icons.recycle}<span><strong>Green & Clean:</strong> Follow the recycling guide.</span></div>
                     <div class="quick-item">${icons.toilet}<span><strong>WC (Sanitrit):</strong> Toilet paper only in The NoLo Nest.</span></div>`,
                es: `<div class="quick-item">${icons.users}<span><strong>Solo Registrados:</strong> Solo personas oficiales.</span></div>
                     <div class="quick-item">${icons.noSmoke}<span><strong>Solo Aire Fresco:</strong> No fumar dentro.</span></div>
                     <div class="quick-item">${icons.paw}<span><strong>Sin Mascotas:</strong> No apto para animales.</span></div>
                     <div class="quick-item">${icons.moon}<span><strong>Horas de Silencio:</strong> 21:00 - 07:00.</span></div>
                     <div class="quick-item">${icons.party}<span><strong>Modo Relax:</strong> Sin fiestas.</span></div>
                     <div class="quick-item">${icons.recycle}<span><strong>Green & Limpio:</strong> Recicla correctamente.</span></div>
                     <div class="quick-item">${icons.toilet}<span><strong>WC (Sanitrit):</strong> Solo papel higi√©nico.</span></div>`,
                fr: `<div class="quick-item">${icons.users}<span><strong>Invit√©s Enregistr√©s:</strong> Uniquement personnes officielles.</span></div>
                     <div class="quick-item">${icons.noSmoke}<span><strong>Air Frais:</strong> Ne pas fumer √† l'int√©rieur.</span></div>
                     <div class="quick-item">${icons.paw}<span><strong>Pas d'Animaux:</strong> Pas adapt√© aux animaux.</span></div>
                     <div class="quick-item">${icons.moon}<span><strong>Silence:</strong> 21h00 - 07h00.</span></div>
                     <div class="quick-item">${icons.party}<span><strong>Mode Relax:</strong> Pas de f√™tes.</span></div>
                     <div class="quick-item">${icons.recycle}<span><strong>Green & Propre:</strong> Recyclez correctement.</span></div>
                     <div class="quick-item">${icons.toilet}<span><strong>WC (Sanitrit):</strong> Papier toilette uniquement.</span></div>`,
                de: `<div class="quick-item">${icons.users}<span><strong>Nur Registrierte:</strong> Nur offizielle G√§ste.</span></div>
                     <div class="quick-item">${icons.noSmoke}<span><strong>Frische Luft:</strong> Nicht rauchen.</span></div>
                     <div class="quick-item">${icons.paw}<span><strong>Keine Haustiere:</strong> Nicht f√ºr Tiere geeignet.</span></div>
                     <div class="quick-item">${icons.moon}<span><strong>Ruhezeiten:</strong> 21:00 - 07:00 Uhr.</span></div>
                     <div class="quick-item">${icons.party}<span><strong>Relax-Modus:</strong> Keine Partys.</span></div>
                     <div class="quick-item">${icons.recycle}<span><strong>Gr√ºn & Sauber:</strong> Bitte recyceln.</span></div>
                     <div class="quick-item">${icons.toilet}<span><strong>WC (Sanitrit):</strong> Nur Toilettenpapier.</span></div>`,
                pt: `<div class="quick-item">${icons.users}<span><strong>Apenas Registrados:</strong> Apenas h√≥spedes oficiais.</span></div>
                     <div class="quick-item">${icons.noSmoke}<span><strong>Ar Fresco:</strong> Proibido fumar.</span></div>
                     <div class="quick-item">${icons.paw}<span><strong>Sem Animais:</strong> N√£o adequado para animais.</span></div>
                     <div class="quick-item">${icons.moon}<span><strong>Sil√™ncio:</strong> 21:00 - 07:00. Respeite os vizinhos.</span></div>
                     <div class="quick-item">${icons.party}<span><strong>Modo Relax:</strong> Sem festas.</span></div>
                     <div class="quick-item">${icons.recycle}<span><strong>Verde & Limpo:</strong> Siga a reciclagem.</span></div>
                     <div class="quick-item">${icons.toilet}<span><strong>WC (Sanitrit):</strong> Apenas papel higi√™nico.</span></div>`
            },

            hospitalityTitle: { it: 'Il nostro modello di ospitalit√†', en: 'Our Hospitality Model', es: 'Nuestro Modelo', fr: 'Notre Mod√®le', de: 'Unser Modell', pt: 'Nosso Modelo' },
            hospitalitySubtitle: { it: "Accoglienza responsabile, sostenibile e inclusiva", en: "Responsible, sustainable and inclusive hosting", es: "Acogida responsable, sostenible e inclusiva", fr: "Accueil responsable, durable et inclusif", de: "Verantwortungsvoller, nachhaltiger und inklusiver Empfang", pt: "Hospedagem respons√°vel, sustent√°vel e inclusiva" },
            
            hospDesign: { it: "Design a basso impatto", en: "Low-impact design", es: "Dise√±o de bajo impacto", fr: "Design √† faible impact", de: "Design mit geringen Auswirkungen", pt: "Design de baixo impacto" },
            hospPeople: { it: "Accoglienza inclusiva", en: "Inclusive hosting", es: "Acogida inclusiva", fr: "Accueil inclusif", de: "Inklusiver Empfang", pt: "Acolhimento inclusivo" },
            hospEnergy: { it: "Gestione energetica efficiente", en: "Efficient energy management", es: "Gesti√≥n energ√©tica eficiente", fr: "Gestion √©nerg√©tique efficace", de: "Effizientes Energiemanagement", pt: "Gest√£o energ√©tica eficiente" },
            hospLocal: { it: "Fornitori locali", en: "Local suppliers", es: "Proveedores locales", fr: "Fournisseurs locaux", de: "Lokale Lieferanten", pt: "Fornecedores locais" },
            hospGreen: { it: "Mobilit√† green", en: "Green mobility", es: "Movilidad verde", fr: "Mobilit√© verte", de: "Gr√ºne Mobilit√§t", pt: "Mobilidade verde" },
            hospGuest: { it: "Coinvolgimento attivo degli ospiti", en: "Active guest involvement", es: "Participaci√≥n activa", fr: "Implication active des invit√©s", de: "Aktive Einbeziehung der G√§ste", pt: "Envolvimento ativo dos h√≥spedes" },
            
            accessibilityText: {
                it: `<strong>Nota su accessibilit√† e contesto storico:</strong><br>La nostra ospitalit√† vive all'interno di edifici storici: un patrimonio affascinante che porta con s√© vincoli architettonici nelle parti comuni.<br><br>Purtroppo, al momento l'ingresso non √® idoneo a persone con disabilit√† motorie. <em>Ci stiamo per√≤ facendo promotori attivi presso l'amministrazione per trovare soluzioni condivise e abbattere queste barriere in futuro.</em>`,
                en: `<strong>Note on accessibility & historical context:</strong><br>Our hospitality is located within historical buildings: a fascinating heritage that comes with architectural constraints in common areas.<br><br>Unfortunately, the entrance is currently not suitable for guests with motor disabilities. <em>However, we are actively advocating with the administration to find shared solutions and remove these barriers in the future.</em>`,
                es: `<strong>Nota sobre accesibilidad:</strong><br>Edificios hist√≥ricos con restricciones arquitect√≥nicas. Actualmente no apto para discapacidad motora. <em>Estamos trabajando activamente para mejorar el acceso en el futuro.</em>`,
                fr: `<strong>Note sur l'accessibilit√© :</strong><br>B√¢timents historiques avec des contraintes architecturales. Actuellement non adapt√© aux handicaps moteurs. <em>Nous travaillons activement pour am√©liorer l'acc√®s √† l'avenir.</em>`,
                de: `<strong>Hinweis zur Barrierefreiheit:</strong><br>Historische Geb√§ude mit architektonischen Einschr√§nkungen. Derzeit nicht f√ºr motorische Behinderungen geeignet. <em>Wir arbeiten aktiv daran, den Zugang in Zukunft zu verbessern.</em>`,
                pt: `<strong>Nota sobre acessibilidade e contexto hist√≥rico:</strong><br>Nossa hospitalidade situa-se em edif√≠cios hist√≥ricos com restri√ß√µes arquitet√¥nicas nas √°reas comuns.<br><br>Infelizmente, a entrada n√£o √© adequada para pessoas com defici√™ncia motora no momento. <em>Estamos trabalhando ativamente com a administra√ß√£o para encontrar solu√ß√µes e remover essas barreiras no futuro.</em>`
            },
            
            transitionText: {
                it: "‚¨áÔ∏è Per dettagli legali, clausole e costi completi, espandi le sezioni qui sotto ‚¨áÔ∏è",
                en: "‚¨áÔ∏è For full legal details, clauses, and costs, expand the sections below ‚¨áÔ∏è",
                es: "‚¨áÔ∏è Detalles completos abajo ‚¨áÔ∏è",
                fr: "‚¨áÔ∏è D√©tails complets ci-dessous ‚¨áÔ∏è",
                de: "‚¨áÔ∏è Details unten ‚¨áÔ∏è",
                pt: "‚¨áÔ∏è Detalhes completos abaixo ‚¨áÔ∏è"
            },

            paymentTitle: { it: "Prenotazioni Dirette: Pagamenti & Cancellazione", en: "Direct Bookings: Payments & Cancellation", es: "Pagos y Cancelaci√≥n", fr: "Paiements et Annulation", de: "Zahlungen & Stornierung", pt: "Pagamentos e Cancelamento" },
            paymentContentShort: {
                it: `<p>Caparra 30%, saldo 14 giorni prima. Cancellazione Moderata (Rimborso 100% > 14gg). Tassa soggiorno esclusa.</p>`,
                en: `<p>30% Deposit, balance 14 days before. Moderate Cancellation (100% refund > 14 days). City tax excluded.</p>`,
                es: `<p>30% Dep√≥sito. Cancelaci√≥n Moderada.</p>`,
                fr: `<p>30% Acompte. Annulation Mod√©r√©e.</p>`,
                de: `<p>30% Anzahlung. Moderate Stornierung.</p>`,
                pt: `<p>Dep√≥sito 30%, saldo 14 dias antes. Cancelamento Moderado (Reembolso 100% > 14 dias).</p>`
            },
            paymentContentLong: {
                it: `<p>Caparra 30%. Saldo 14 giorni prima. Cancellazione Moderata.</p>
                     <p><strong>Tempistiche (Long Stay):</strong> Pagamento anticipato <strong>entro venerd√¨</strong> (bonifico/digitale). Contanti solo in casi eccezionali in sede. Importo dedotto dall'affitto successivo.</p>
                     <div class="warning-text">* Disdetta Long Stay: preavviso di 7 giorni prima del pagamento settimanale per evitare penali. Nessun rimborso parziale.</div>`,
                en: `<p>30% Deposit. Moderate Cancellation.</p>
                     <p><strong>Long Stay Terms:</strong> Payment strictly <strong>by Friday</strong> (bank/digital). Cash only exceptional cases at HQ. Deducted from next rent.</p>
                     <div class="warning-text">* Cancellation: 7-day notice before weekly payment required. No partial refunds.</div>`,
                es: `<p>Pago viernes. Aviso 7 d√≠as.</p>`,
                fr: `<p>Paiement vendredi. Pr√©avis 7 jours.</p>`,
                de: `<p>Zahlung Freitag. 7 Tage Frist.</p>`,
                pt: `<p>Pagamento sexta-feira. Aviso pr√©vio de 7 dias.</p>`
            },

            costsTitle: { it: "Costi, Tasse e Depositi", en: "Costs, Taxes & Deposits", es: "Costos, Impuestos y Dep√≥sitos", fr: "Co√ªts, Taxes et D√©p√¥ts", de: "Kosten, Steuern & Kautionen", pt: "Custos, Impostos e Dep√≥sitos" },
            costsListShort: {
                it: `<li><strong>Tassa di Soggiorno:</strong> Dal 1¬∞ Gennaio 2026 la tariffa √® <strong>‚Ç¨9,50</strong> a persona per notte (max 14 giorni).</li>
                     <li><strong>Costo Fisso di Servizio:</strong> ‚Ç¨15 per soggiorno per coprire le spese di gestione.</li>
                     <li><strong>Deposito/Polizza Danni:</strong> Al check-in online √® obbligatorio scegliere tra un deposito cauzionale rimborsabile di ‚Ç¨350 o l'acquisto di una polizza danni.</li>
                     <li><strong>Supplementi Stagionali (Surcharge):</strong> Costo aggiuntivo percentuale obbligatorio, calcolato sul costo del pernotto (escluse tasse e costi accessori).
                        <ul class="sub-list">
                            <li><strong>Estate (Elettricit√†):</strong> 15 Maggio ‚Äì 15 Settembre. Valore: <strong>4%</strong> (Cap Max ‚Ç¨80, ‚Ç¨90 per mensili).</li>
                            <li><strong>Inverno (Riscaldamento):</strong> 15 Ottobre ‚Äì 15 Marzo. Valore: <strong>5%</strong> (Cap Max ‚Ç¨80, ‚Ç¨90 per mensili) per coprire gli elevati costi di riscaldamento dovuti agli smisurati aumenti causa eventi geopolitici.</li>
                        </ul>
                     </li>
                     <li><strong>Servizi di Pulizia:</strong> Standard per fine soggiorno.</li>`,
                en: `<li><strong>City Tax:</strong> <strong>‚Ç¨9.50 per person/night</strong> (max 14 days).</li>
                     <li><strong>Fixed Service Fee:</strong> ‚Ç¨15 per stay.</li>
                     <li><strong>Deposit/Damage Policy:</strong> Mandatory choice (‚Ç¨350 refundable deposit or insurance).</li>
                     <li><strong>Seasonal Surcharges:</strong>
                        <ul class="sub-list">
                            <li><strong>Summer (Electricity):</strong> May 15 ‚Äì Sept 15. Value: <strong>4%</strong> (Cap Max ‚Ç¨80).</li>
                            <li><strong>Winter (Heating):</strong> Oct 15 ‚Äì Mar 15. Value: <strong>5%</strong> (Cap Max ‚Ç¨80) due to geopolitical events.</li>
                        </ul>
                     </li>`,
                es: `<li>Tasa 9,50‚Ç¨. Suplementos verano (4%) / invierno (5%).</li>`,
                fr: `<li>Taxe 9,50‚Ç¨. Suppl√©ments √©t√© (4%) / hiver (5%).</li>`,
                de: `<li>Taxe 9,50‚Ç¨. Zuschl√§ge Sommer (4%) / Winter (5%).</li>`,
                pt: `<li>Taxa 9,50‚Ç¨. Suplementos ver√£o (4%) / inverno (5%).</li>`
            },
            costsListLong: {
                it: `<div class="tiers-container">
                        <div class="tier-box">
                            <h4>üè† Standard Long Stay (1-3 Mesi)</h4>
                            <ul>
                                <li><strong>Registro Contratto:</strong> <span class="warning-text" style="display:inline; padding:2px 5px; font-size:0.9em">Obbligatorio >30gg</span><br>Costo: 2% del canone + ‚Ç¨16 (bollo).</li>
                                <li><strong>Pulizie Intermedie:</strong> Obbligatorie ogni 14gg (A carico dell'ospite).</li>
                                <li><strong>Pulizia Finale:</strong> ‚Ç¨80.</li>
                            </ul>
                        </div>
                        <div class="tier-box premium">
                            <h4>üåü Smart Resident (3+ Mesi)</h4>
                            <p style="color:#FFD700; font-weight:bold; font-size:0.9em; margin-bottom:10px;">I VANTAGGI PER CHI RESTA DI PI√ô:</p>
                            <ul>
                                <li><strong>Registro Contratto:</strong> <span class="free-badge">GRATUITO</span><br>(Costo assorbito dalla propriet√†).</li>
                                <li><strong>Pulizie Intermedie:</strong> <span class="free-badge">GRATUITE</span><br>(Ogni 14gg, offerte da noi).</li>
                                <li><strong>Pulizia Finale:</strong> ‚Ç¨80.</li>
                            </ul>
                        </div>
                     </div>
                     <ul class="common-rules">
                        <li><strong>Tassa Soggiorno:</strong> ‚Ç¨9,50/notte (max 14gg).</li>
                        <li><strong>Deposito:</strong> Obbligatorio (Top Tier).</li>
                        <li><strong>Supplementi:</strong> Estate 4% / Inverno 5%.</li>
                     </ul>`,
                en: `<div class="tiers-container">
                        <div class="tier-box">
                            <h4>üè† Standard Long Stay (1-3 Months)</h4>
                            <ul>
                                <li><strong>Contract Registration:</strong> Mandatory >30 days. Cost: 2% + ‚Ç¨16.</li>
                                <li><strong>Bi-weekly Cleaning:</strong> Mandatory (Guest pays).</li>
                            </ul>
                        </div>
                        <div class="tier-box premium">
                            <h4>üåü Smart Resident (3+ Months)</h4>
                            <ul>
                                <li><strong>Contract Registration:</strong> <span class="free-badge">FREE</span></li>
                                <li><strong>Bi-weekly Cleaning:</strong> <span class="free-badge">FREE</span></li>
                            </ul>
                        </div>
                     </div>`,
                es: `<p>Ver versi√≥n IT/EN para detalles.</p>`,
                fr: `<p>Voir version IT/EN pour d√©tails.</p>`,
                de: `<p>Siehe IT/EN Version f√ºr Details.</p>`,
                pt: `<p>Ver vers√£o IT/EN para detalhes.</p>`
            },

            rulesTitle: { it: "Regole della Casa (Dettaglio)", en: "House Rules (Detailed)", es: "Reglas de la Casa (Detalle)", fr: "R√®gles de la Maison (D√©tails)", de: "Hausordnung (Details)", pt: "Regras da Casa (Detalhe)" },
            rulesList: {
                it: `<li><strong>Solo Ospiti Registrati:</strong> Per mantenere un ambiente sicuro e confortevole per tutti, ti preghiamo di far alloggiare nell'appartamento solo le persone ufficialmente registrate.</li>
                     <li><strong>Solo Aria Fresca (Vietato Fumare):</strong> Ci teniamo a mantenere la nostra casa fresca e piacevole! Ti chiediamo gentilmente di non fumare all'interno dell'appartamento. Penale ‚Ç¨200.</li>
                     <li><strong>Niente Amici a 4 Zampe:</strong> Per quanto amiamo gli animali, questo appartamento non √® adatto ad ospitarli, anche per tutelare chi soffre di allergie.</li>
                     <li><strong>Shhh... Ore di Silenzio:</strong> Abbiamo dei vicini meravigliosi e vorremmo che restassero tali. Ti preghiamo di rispettare la quiete dalle <strong>21:00 alle 07:00</strong>, evitando rumori forti.</li>
                     <li><strong>Modalit√† Relax:</strong> La nostra casa √® progettata per il relax. Per favore, niente feste o grandi eventi.</li>
                     <li><strong>Green & Pulito (Raccolta Differenziata):</strong> Aiutaci a prenderci cura del pianeta! üåç Ti preghiamo di seguire le istruzioni per la raccolta differenziata.</li>
                     <li><strong>Attenzione al WC (Sanitrit):</strong> Il bagno di <strong>The NoLo Nest</strong> utilizza uno speciale sistema trituratore. Ti preghiamo di gettare nel WC solo carta igienica. Salviettine o altri oggetti bloccano il sistema.</li>
                     <li><strong>Check-Out:</strong> Purtroppo le cose belle finiscono! Il check-out √® previsto per le <strong>11:00</strong>. Trovi info nella GUIDA DIGITALE.</li>`,
                en: `<li><strong>Registered Guests Only:</strong> Only officially registered people allowed.</li>
                     <li><strong>Fresh Air Only (No Smoking):</strong> Please do not smoke inside. Penalty ‚Ç¨200.</li>
                     <li><strong>No Pets:</strong> Not suitable for pets (allergy protection).</li>
                     <li><strong>Shhh... Quiet Hours:</strong> 9 PM to 7 AM. Respect neighbors.</li>
                     <li><strong>Relax Mode:</strong> No parties or large events.</li>
                     <li><strong>Green & Clean (Recycling):</strong> Please follow recycling instructions.</li>
                     <li><strong>Watch the WC (Sanitrit):</strong> <strong>The NoLo Nest</strong> uses a macerator. Toilet paper ONLY.</li>
                     <li><strong>Check-Out:</strong> At <strong>11:00 AM</strong>.</li>`,
                es: `<li>Solo registrados. No fumar (Multa 200‚Ç¨). Sin mascotas. Silencio 21:00-07:00. Modo Relax. Reciclaje obligatorio. WC Sanitrit (The NoLo Nest): Solo papel higi√©nico. Check-out 11:00.</li>`,
                fr: `<li>Seuls enregistr√©s. Non fumeur (Amende 200‚Ç¨). Pas d'animaux. Silence 21h00-07h00. Mode Relax. Recyclage obligatoire. WC Sanitrit (The NoLo Nest) : Papier toilette uniquement. D√©part 11h00.</li>`,
                de: `<li>Nur Registrierte. Nichtraucher (Strafe 200‚Ç¨). Keine Haustiere. Ruhe 21:00-07:00. Relax-Modus. Recycling pflicht. WC Sanitrit (The NoLo Nest): Nur Toilettenpapier. Check-out 11:00.</li>`,
                pt: `<li>Apenas Registrados. N√£o fumar (Multa 200‚Ç¨). Sem animais. Sil√™ncio 21:00-07:00. Modo Relax. Reciclagem obrigat√≥ria. WC Sanitrit (The NoLo Nest): Apenas papel higi√™nico. Check-out 11:00.</li>`
            },

            greenTitle: { it: "Politica Ecologica (Dettaglio)", en: "Green Policy (Detailed)", es: "Pol√≠tica Ecol√≥gica", fr: "Politique √âcologique", de: "Umweltpolitik", pt: "Pol√≠tica Ecol√≥gica" },
            greenList: {
                it: `<div class="important-note" style="margin-bottom: 20px;">
                        Milano √® citata dall‚ÄôIntelligent Cities Challenge come modello d‚Äôeccellenza per il Piano Aria e Clima: azioni locali come mobilit√† sostenibile ed efficienza energetica la pongono all‚Äôavanguardia nel Green Deal europeo. La nostra Green Policy nasce da questa visione e si applica concretamente nel nostro modello di ospitalit√†: appartamenti progettati e gestiti per ridurre i consumi, fornitori e servizi locali, pratiche di raccolta differenziata e riuso, check-in digitale e incentivi per spostamenti a basso impatto. Rispettando le regole della casa non solo custodisci lo spazio che ti ospita, ma contribuisci in modo pratico all‚Äôobiettivo europeo di neutralit√† climatica entro il 2050.
                     </div>
                     <li><strong>Climatizzazione Eco-Friendly:</strong> Abbiamo a cuore l'ambiente. Quando usi l'Aria Condizionata, ricorda di tenere sempre le finestre chiuse e di usare l'energia in modo responsabile.</li>
                     <li><strong>Riscaldamento:</strong> Max 20¬∞C (centralizzato).</li>
                     <li><strong>Acqua:</strong> The NoLo Nest/Studio hanno boiler per 2 docce. Usare con parsimonia.</li>`,
                en: `<div class="important-note" style="margin-bottom: 20px;">
                        Milan is cited by the Intelligent Cities Challenge as a model of excellence for the Air and Climate Plan. Our Green Policy stems from this vision. By respecting house rules, you care for the space and contribute to the European goal of climate neutrality by 2050.
                     </div>
                     <li><strong>Eco-Friendly AC:</strong> We care about the environment. When using AC, keep windows closed and use energy responsibly.</li>
                     <li><strong>Heating:</strong> Max 20¬∞C.</li>
                     <li><strong>Water:</strong> Conserve water (limited boiler in some units).</li>`,
                es: `<div class="important-note">Mil√°n es un modelo de excelencia en el Green Deal europeo.</div><li>AC > 20¬∞C. Calefacci√≥n m√°x 20¬∞C. Ahorrar agua.</li>`,
                fr: `<div class="important-note">Milan est un mod√®le d'excellence du Green Deal europ√©en.</div><li>Clim > 20¬∞C. Chauffage max 20¬∞C. √âconomiser l'eau.</li>`,
                de: `<div class="important-note">Mailand ist ein Exzellenzmodell im europ√§ischen Green Deal.</div><li>Klima > 20¬∞C. Heizung max 20¬∞C. Wasser sparen.</li>`,
                pt: `<div class="important-note">Mil√£o √© um modelo de excel√™ncia no Green Deal europeu.</div><li>AC > 20¬∞C. Aquecimento m√°x 20¬∞C. Economizar √°gua.</li>`
            },

            visionTitle: { it: "Standard Comportamentali e Filosofia D&I", en: "Behavioral Standards & D&I Philosophy", es: "Est√°ndares de Comportamiento y D&I", fr: "Normes Comportementales et D&I", de: "Verhaltensstandards & D&I", pt: "Padr√µes Comportamentais e D&I" },
            visionContent: {
                it: `
                    <div style="border-left: 4px solid var(--brand-primary); padding-left: 20px;">
                        <p><strong>I Nostri Valori Fondamentali:</strong> Chi alloggia nelle nostre strutture non accetta solo un regolamento, ma condivide una visione precisa: la politica della <strong>Non Violenza</strong> e la filosofia <strong>D&I (Diversity & Inclusion)</strong> applicata all'ospitalit√†.</p>
                        <p><strong>Accoglienza Universale:</strong> Il nostro principio cardine √® che <em>"la natura dell'ospitalit√† √® accogliere e servire gli altri senza distinzioni"</em>. Crediamo fermamente che ogni persona meriti un benvenuto autentico, al di l√† di ogni differenza.</p>
                        <p><strong>Rispetto Imprescindibile:</strong> Coerentemente con questi valori, vige il <strong>divieto assoluto</strong> verso qualsiasi forma di discriminazione. Non sono ammessi comportamenti, atteggiamenti o parole lesive che violino la dignit√† altrui: il rispetto reciproco √® la condizione essenziale per il soggiorno.</p>
                    </div>
                `,
                en: `
                    <div style="border-left: 4px solid var(--brand-primary); padding-left: 20px;">
                        <p><strong>Our Core Values:</strong> Staying with us means sharing a vision: Non-Violence policy and D&I (Diversity & Inclusion) philosophy in hospitality.</p>
                        <p><strong>Universal Welcome:</strong> Hospitality means welcoming everyone without distinction.</p>
                        <p><strong>Essential Respect:</strong> We have an absolute ban on discrimination. Offensive behavior or words violating dignity are not permitted.</p>
                    </div>
                `,
                es: `<p>Ver versi√≥n en Ingl√©s o Italiano.</p>`,
                fr: `<p>Voir version Anglaise ou Italienne.</p>`,
                de: `<p>Siehe englische oder italienische Version.</p>`,
                pt: `<p>Ver vers√£o em Ingl√™s ou Italiano.</p>`
            },

            damageTitle: { it: "Approfondimento: Deposito e Polizza Danni", en: "Deep Dive: Deposit & Insurance", es: "Dep√≥sito y Seguro", fr: "D√©p√¥t et Assurance", de: "Kaution und Versicherung", pt: "Dep√≥sito e Seguro" },
            damageDetails: {
                it: `
                    <h3>Opzione 1: Deposito Cauzionale (Holding)</h3>
                    <p>La somma di <strong>‚Ç¨350</strong> viene bloccata sulla carta di credito dell'ospite come trattenuta (Hold). Non avviene un prelievo immediato, ma i fondi vengono resi indisponibili.</p>
                    <ul>
                        <li><strong>Durata:</strong> La trattenuta dura 7 giorni e si rinnova automaticamente fino a un massimo di 30 giorni.</li>
                        <li><strong>Sblocco:</strong> La somma viene rilasciata automaticamente 7 giorni dopo il check-out se non vengono riscontrati danni.</li>
                    </ul>
                    <hr>
                    <h3>Opzione 2: Chekin Security Deposit Waiver Program (Polizza Danni)</h3>
                    <p>In alternativa al deposito, puoi acquistare una polizza che copre i danni accidentali a fondo perduto. Di seguito i dettagli:</p>
                    <ul>
                        <li><strong>Obiettivo:</strong> Coprire danni accidentali alla propriet√† (non copre atti intenzionali o negligenza grave).</li>
                        <li><strong>Limiti e Costi:</strong>
                            <ul>
                                <li>Limite di ‚Ç¨1.500: Costo ‚Ç¨27,50</li>
                                <li>Limite di ‚Ç¨2.500: Costo ‚Ç¨30,70</li>
                                <li>Limite di ‚Ç¨5.000: Costo ‚Ç¨35,80</li>
                            </ul>
                        </li>
                        <li><strong>Franchigia:</strong> Non vengono processati reclami per danni inferiori a ‚Ç¨50.</li>
                        <li><strong>Segnalazione Danni:</strong> I danni devono essere segnalati entro 14 giorni dal check-out.</li>
                        <li><strong>Esclusioni Principali:</strong> La polizza non copre:
                            <ul>
                                <li>Danni preesistenti, usura normale, danni estetici.</li>
                                <li>Furto senza un verbale di polizia valido.</li>
                                <li>Infestazioni, danni da animali selvatici.</li>
                                <li>Opere d'arte, oggetti da collezione, oggetti di alto valore.</li>
                                <li>Costi di pulizia o rimozione odori.</li>
                                <li>Danni strutturali maggiori.</li>
                                <li>Danni o furto di propriet√† personali dell'ospite.</li>
                            </ul>
                        </li>
                    </ul>
                    <div class="important-note">
                        <strong>Nota Bene:</strong> Per i soggiorni superiori ai 2 mesi va scelta obbligatoriamente la copertura pi√π alta.
                    </div>
                `,
                en: `
                    <h3>Option 1: Security Deposit (Holding)</h3>
                    <p><strong>‚Ç¨350</strong> blocked on card (Hold). Released 7 days post-checkout.</p>
                    <hr>
                    <h3>Option 2: Security Deposit Waiver Program (Insurance)</h3>
                    <ul class="sub-list">
                        <li>Limit ‚Ç¨1,500: Cost ‚Ç¨27.50</li>
                        <li>Limit ‚Ç¨2,500: Cost ‚Ç¨30.70</li>
                        <li>Limit ‚Ç¨5,000: Cost ‚Ç¨35.80</li>
                    </ul>
                    <div class="important-note"><strong>Note:</strong> For stays > 2 months, highest coverage is mandatory.</div>
                `,
                es: `<p>Opci√≥n 1: Retenci√≥n 350‚Ç¨. Opci√≥n 2: Seguro. Para estancias > 2 meses, cobertura m√°xima obligatoria.</p>`,
                fr: `<p>Option 1 : Retenue 350‚Ç¨. Option 2 : Assurance. Pour s√©jours > 2 mois, couverture maximale obligatoire.</p>`,
                de: `<p>Option 1: Einbehalt 350‚Ç¨. Option 2: Versicherung. Bei Aufenthalten > 2 Monaten ist die h√∂chste Deckung Pflicht.</p>`,
                pt: `<p>Op√ß√£o 1: Reten√ß√£o 350‚Ç¨. Op√ß√£o 2: Seguro. Para estadias > 2 meses, cobertura m√°xima obrigat√≥ria.</p>`
            },

            contractTitle: { it: "Termini e Condizioni Contrattuali (Estesi)", en: "Contractual Terms (Extended)", es: "T√©rminos (Extendido)", fr: "Termes (√âtendu)", de: "Bedingungen (Erweitert)", pt: "Termos e Condi√ß√µes (Estendido)" },
            contractContent: {
                // (Mantenuto uguale a prima, con aggiunta PT che rimanda a EN)
                it: `
                    <p>Per la massima trasparenza, ecco un riepilogo dettagliato dei costi, delle regole e delle politiche che regolano la tua prenotazione e il tuo soggiorno:</p>
                    <h3>1. Costi e Pagamenti</h3>
                    <ul class="sub-list">
                        <li><strong>Tassa di Soggiorno:</strong> Secondo le normative del Comune di Milano, √® prevista una tassa di <strong>‚Ç¨9,50 a persona per notte</strong>, applicata per un massimo di 14 giorni. Il pagamento √® richiesto prima dell'arrivo.</li>
                        <li><strong>Costo Fisso di Servizio e Gestione:</strong> ‚Ç¨15,00 per soggiorno.</li>
                        <li><strong>Supplemento Elettricit√† (Giugno-Settembre):</strong> A supporto del "City Green Deal", applichiamo un supplemento del <strong>4% sul costo del pernottamento</strong> (cap massimo ‚Ç¨80/mese) per il consumo estivo.</li>
                        <li><strong>Supplemento Riscaldamento (Inverno):</strong> 5% (cap max ‚Ç¨80/mese) per coprire gli elevati costi dovuti agli smisurati aumenti causa eventi geopolitici.</li>
                    </ul>
                    <h3>2. Deposito Cauzionale e Protezione Danni</h3>
                    <p>Al momento del check-in online (tramite checkin.com) √® obbligatorio scegliere una delle seguenti opzioni:</p>
                    <ul class="sub-list">
                        <li><strong>Opzione A: Deposito Cauzionale Rimborsabile.</strong> Pagamento di ‚Ç¨350,00, rimborsato a fine soggiorno dopo la verifica dell'immobile. Include una commissione di gestione non rimborsabile di ‚Ç¨4,80.</li>
                        <li><strong>Opzione B: Polizza Protezione Danni.</strong> Acquisto di un'assicurazione a copertura dei danni. Costi e termini definiti dal fornitore in fase di selezione.</li>
                    </ul>
                    <div class="important-note"><strong>Nota Bene:</strong> Per i soggiorni superiori ai 2 mesi va scelta obbligatoriamente la copertura pi√π alta.</div>
                    <h3>3. Servizi di Pulizia per Soggiorni Prolungati</h3>
                    <ul class="sub-list">
                        <li><strong>Pulizia di Fine Soggiorno (oltre 2 settimane):</strong> Costo obbligatorio di ‚Ç¨80,00 (sostituisce la tariffa standard di ‚Ç¨45).</li>
                        <li><strong>Servizio Obbligatorio (oltre 3 settimane):</strong> √à essenziale organizzare una pulizia ogni 14 giorni (cambio biancheria, verifica condizioni).</li>
                        <li><strong>Costo:</strong> Per il Long Stay, il costo √® assorbito dalla propriet√† (gratuito per l'ospite).</li>
                        <li><strong>Penalit√†:</strong> La mancata organizzazione (rifiuto accesso) comporta una penale fissa di ‚Ç¨150,00.</li>
                    </ul>
                    <h3>4. Regole della Casa e Penali</h3>
                    <ul class="sub-list">
                        <li><strong>Ospiti Registrati:</strong> Solo gli ospiti registrati sono ammessi. Violazione = allontanamento immediato.</li>
                        <li><strong>Vietato Fumare:</strong> Penale di ‚Ç¨200,00 pi√π costi di rimozione odori.</li>
                        <li><strong>Chiavi:</strong> Smarrimento = costo cambio serratura + penale ‚Ç¨150,00.</li>
                        <li><strong>Rumore e Feste:</strong> Feste vietate. Ore di silenzio <strong>21:00 - 07:00</strong>.</li>
                        <li><strong>WC Sanitrit:</strong> Gettare solo carta igienica. Danni da uso improprio saranno addebitati.</li>
                    </ul>
                    <h3>5. Politica Green e Consumi</h3>
                    <p>L'aria condizionata non deve scendere sotto i 20¬∞C e le finestre devono restare chiuse. Vietato l'uso 24/7. La mancata osservanza pu√≤ comportare un supplemento del 9% sul costo totale. Monitoraggio attivo tramite sistemi smart.</p>
                `,
                en: `
                    <p>For full transparency, here is a detailed breakdown of the costs, rules, and policies governing your booking and stay:</p>
                    <h3>1. Costs & Payments</h3>
                    <ul class="sub-list">
                        <li><strong>City Tax:</strong> As per Municipality of Milan regulations, <strong>‚Ç¨9.50 per person per night</strong> (max 14 days).</li>
                        <li><strong>Fixed Service Fee:</strong> ‚Ç¨15.00 per stay.</li>
                        <li><strong>Surcharges:</strong> Summer 4% (Elec). Winter 5% (Heating - due to geopolitical cost increases).</li>
                    </ul>
                    <h3>2. Security Deposit & Damage Protection</h3>
                    <ul class="sub-list">
                        <li><strong>Option A: Refundable Security Deposit.</strong> ‚Ç¨350.00 payment (Hold). Includes ‚Ç¨4.80 non-refundable fee.</li>
                        <li><strong>Option B: Damage Protection Policy.</strong> Insurance purchase covering damages.</li>
                    </ul>
                    <div class="important-note">For stays > 2 months, the highest coverage option is mandatory.</div>
                    <h3>3. Extended Stay Cleaning Policy</h3>
                    <ul class="sub-list">
                        <li><strong>End-of-Stay Cleaning (> 2 weeks):</strong> Mandatory ‚Ç¨80.00 fee.</li>
                        <li><strong>Mandatory Service (> 3 weeks):</strong> Cleaning every 14 days is essential.</li>
                        <li><strong>Cost:</strong> Absorbed by property (Free for guest).</li>
                        <li><strong>Penalty:</strong> Failure to arrange results in a ‚Ç¨150.00 fixed penalty.</li>
                    </ul>
                    <h3>4. House Rules</h3>
                    <p>Registered guests only. No smoking (‚Ç¨200 fine). Quiet hours 9PM-7AM. No parties. Sanitrit: toilet paper only.</p>
                `,
                es: `<p>Ver versi√≥n en Ingl√©s o Italiano. (See English or Italian version for full legal text)</p>`,
                fr: `<p>Voir version Anglaise ou Italienne. (See English or Italian version for full legal text)</p>`,
                de: `<p>Siehe englische oder italienische Version. (See English or Italian version for full legal text)</p>`,
                pt: `<p>Ver vers√£o em Ingl√™s ou Italiano. (See English or Italian version for full legal text)</p>`
            },

            privacyTitle: { it: "Informativa Privacy & GDPR", en: "Privacy Policy & GDPR", es: "Privacy", fr: "Confidentialit√©", de: "Datenschutz", pt: "Privacidade e GDPR" },
            privacyContent: {
                // (Mantenuto uguale a prima, con aggiunta PT che rimanda a EN)
                it: `
                    <p><strong>Informativa estesa ai sensi del Regolamento (UE) 2016/679 (GDPR)</strong></p>
                    <h3>1. Titolare del trattamento</h3>
                    <p>Il Titolare del trattamento √® 2EMME RE&CONSULTING di Matteo Masella, con sede legale in Via Pietro Colletta 70, 20137 Milano (P.IVA IT13411850962). Per qualsiasi comunicazione relativa al trattamento dei dati personali √® possibile contattare il Titolare via e-mail: matteo.masella@duemmeconsulting.it o per posta a: Via Pietro Colletta 70, 20137 Milano.</p>
                    <h3>2. Responsabile della protezione dei dati (DPO)</h3>
                    <p>Al momento non √® stato nominato un Responsabile della Protezione dei Dati (DPO). Per richieste specifiche riguardanti la protezione dei dati contattare il Titolare ai recapiti sopra indicati.</p>
                    <h3>3. Finalit√† del trattamento e basi giuridiche</h3>
                    <p>I dati personali raccolti sono trattati per le seguenti finalit√†, con la corrispondente base giuridica:</p>
                    <ul>
                        <li>Esecuzione del contratto di locazione turistica (es. gestione prenotazione, check-in/out, emissione ricevute/fatture, gestione cauzioni, gestione richieste e servizi accessori). Base giuridica: esecuzione di un contratto (art. 6(1)(b) GDPR).</li>
                        <li>Adempimenti di pubblica sicurezza: trasmissione delle generalit√† degli ospiti alla Autorit√† di Pubblica Sicurezza tramite il sistema ‚ÄúAlloggiati Web‚Äù ai sensi dell‚Äôart. 109 del T.U.L.P.S. e successive disposizioni operative. Base giuridica: obbligo legale (art. 6(1)(c) GDPR).</li>
                        <li>Obblighi fiscali e contabili: conservazione ed esibizione di documenti contabili, emissione di fatture e adempimenti tributari. Base giuridica: obbligo legale (art. 6(1)(c) GDPR).</li>
                        <li>Tutela dei diritti e della sicurezza dell‚Äôimmobile: rilevamento e gestione di danni, gestione di pratiche assicurative e contenziosi. Base giuridica: esecuzione del contratto e legittimo interesse del Titolare (art. 6(1)(b) e 6(1)(f) GDPR).</li>
                        <li>Comunicazioni commerciali e marketing diretto (newsletter, promozioni): solo previo consenso espresso e separato dell‚Äôinteressato. Base giuridica: consenso (art. 6(1)(a) GDPR).</li>
                    </ul>
                    <h3>4. Tipologie di dati trattati</h3>
                    <p>A seconda della finalit√†, potranno essere trattati, tra gli altri:</p>
                    <ul>
                        <li>dati identificativi (nome, cognome, data e luogo di nascita);</li>
                        <li>dati relativi al documento di identit√† (tipo, numero, data e autorit√† di rilascio) necessari per Alloggiati Web e verifica identit√†;</li>
                        <li>codice fiscale;</li>
                        <li>dati di contatto (indirizzo postale, indirizzo e-mail, numero di telefono);</li>
                        <li>dati contrattuali e di prenotazione (date di arrivo/partenza, codice prenotazione, numero di occupanti);</li>
                        <li>dati di pagamento e contabili (coordinate per bonifico, ricevute, estremi transazioni) in forma non sensibile, salvo diversa necessit√†;</li>
                        <li>eventuali dati forniti volontariamente per esigenze particolari (allergie, richieste speciali);</li>
                        <li>registrazioni fotografiche o documentali relative a eventuali danni (solo se rese necessarie per l‚Äôattivit√† di documentazione e contestazione).</li>
                    </ul>
                    <h3>5. Modalit√† di trattamento</h3>
                    <p>I dati sono trattati con strumenti informatici e/o cartacei, mediante procedure organizzative e logiche strettamente correlate alle finalit√† sopra indicate. Sono adottate misure tecniche e organizzative idonee a garantire la riservatezza, l‚Äôintegrit√†, la disponibilit√† e la resilienza dei sistemi e dei servizi, tra cui controllo degli accessi, gestione degli account con privilegi limitati, backup, aggiornamenti, utilizzo di connessioni cifrate per le comunicazioni e policy interne di sicurezza.</p>
                    <h3>6. Destinatari dei dati e categorie di soggetti che possono venire a conoscenza dei dati</h3>
                    <p>I dati potranno essere comunicati a:</p>
                    <ul>
                        <li>Autorit√† di pubblica sicurezza (tramite Alloggiati Web) e a soggetti pubblici ove richiesto dalla legge;</li>
                        <li>Fornitori di servizi necessari all‚Äôesecuzione del contratto (es. piattaforme di prenotazione / OTA, sistemi di payment processing, servizi di pulizia e manutenzione) in qualit√† di responsabili del trattamento;</li>
                        <li>Consulenti professionali (commercialisti, avvocati) e istituti bancari per esigenze di gestione contabile e fiscale;</li>
                        <li>Societ√† terze che svolgono attivit√† di hosting, conservazione documentale o supporto tecnologico su incarico del Titolare;</li>
                        <li>Autorit√† giudiziarie e amministrative in caso di richieste legittime.</li>
                    </ul>
                    <p>Tutti i soggetti esterni ricevono i dati in qualit√† di Responsabili del trattamento e sono vincolati da idonei obblighi contrattuali e di riservatezza.</p>
                    <h3>7. Trasferimenti internazionali di dati</h3>
                    <p>Qualora sia necessario trasferire dati verso Paesi terzi (extra-UE), il Titolare garantir√† che il trasferimento avvenga solo verso Paesi che assicurano un livello di protezione adeguato o mediante garanzie adeguate (decisione di adeguatezza, clausole contrattuali standard approvate dalla Commissione Europea, regole aziendali vincolanti o altre misure conformi al GDPR). Su richiesta sar√† fornita indicazione delle garanzie adottate.</p>
                    <h3>8. Periodi di conservazione</h3>
                    <p>I dati saranno conservati per il tempo strettamente necessario al perseguimento delle finalit√† per cui sono stati raccolti e nei limiti imposti dalla normativa applicabile:</p>
                    <ul>
                        <li>documenti e dati fiscali e contabili: 10 anni (es. obblighi fiscali e di contabilit√†);</li>
                        <li>dati e documentazione relativi alla comunicazione Alloggiati Web e verifica identit√†: mantenuti in archivio secondo le prassi amministrative e comunque per un periodo non inferiore a 5 anni come buona prassi operativa per finalit√† probatorie in caso di controlli;</li>
                        <li>dati relativi a contestazioni danni e causali: per il periodo necessario alla definizione della pratica e per i termini di prescrizione legale;</li>
                        <li>dati trattati per finalit√† di marketing: fino alla revoca del consenso.</li>
                    </ul>
                    <p>Al termine dei periodi di conservazione i dati saranno cancellati o resi anonimi in modo irreversibile, salvo obblighi di legge che impongano conservazioni pi√π lunghe.</p>
                    <h3>9. Diritti degli interessati</h3>
                    <p>L‚Äôinteressato pu√≤ esercitare i diritti previsti dagli artt. 15-22 del GDPR:</p>
                    <ul>
                        <li>diritto di accesso ai propri dati personali;</li>
                        <li>diritto di rettifica dei dati inesatti;</li>
                        <li>diritto alla cancellazione (‚Äúdiritto all‚Äôoblio‚Äù) nei casi previsti;</li>
                        <li>diritto alla limitazione del trattamento;</li>
                        <li>diritto alla portabilit√† dei dati (quando il trattamento √® basato su consenso o contratto e i dati sono trattati con mezzi automatizzati);</li>
                        <li>diritto di opposizione al trattamento per motivi legittimi;</li>
                        <li>diritto di proporre reclamo all‚ÄôAutorit√† di controllo (Garante per la protezione dei dati personali ‚Äî www.garanteprivacy.it).</li>
                    </ul>
                    <p>Le richieste devono essere indirizzate al Titolare all‚Äôindirizzo di posta elettronica matteo.masella@duemmeconsulting.it o via posta a: Via Pietro Colletta 70, 20137 Milano. Le richieste saranno gestite nei termini e nei modi previsti dalla normativa vigente (di norma entro un mese salvo casi particolari).</p>
                    <h3>10. Conseguenze del mancato conferimento dei dati</h3>
                    <p>Il conferimento dei dati necessari per l‚Äôesecuzione del contratto e per l‚Äôadempimento degli obblighi di legge (es. invio Alloggiati Web) √® obbligatorio. Il mancato conferimento pu√≤ rendere impossibile la stipula o l‚Äôesecuzione del contratto (ad esempio impossibilit√† di effettuare il check-in o di ospitare l‚Äôinteressato). Per altri dati facoltativi (es. dati per marketing) il conferimento √® su base volontaria e il mancato conferimento non pregiudica l‚Äôerogazione del servizio principale.</p>
                    <h3>11. Misure di sicurezza</h3>
                    <p>Il Titolare applica misure tecniche e organizzative adeguate alla protezione dei dati personali, tra cui:</p>
                    <ul>
                        <li>utilizzo di protocolli cifrati (HTTPS/TLS) per le comunicazioni on-line;</li>
                        <li>controllo degli accessi e gestione degli account con privilegi limitati;</li>
                        <li>backup regolari e policy di retention;</li>
                        <li>formazione e limitazione degli accessi al personale incaricato;</li>
                        <li>obblighi contrattuali di riservatezza per i responsabili esterni.</li>
                    </ul>
                    <p>Tali misure sono riesaminate periodicamente in funzione dell‚Äôevoluzione tecnologica e degli obblighi normativi.</p>
                    <h3>12. Profilazione e decisioni automatizzate</h3>
                    <p>Il Titolare non effettua processi decisionali basati esclusivamente su trattamenti automatizzati che producano effetti giuridici significativi per l‚Äôinteressato, n√© attivit√† di profilazione su larga scala senza consenso esplicito. Qualora in futuro si prevedano tali trattamenti, sar√† fornita adeguata informativa e, ove richiesto, sar√† acquisito il consenso.</p>
                    <h3>13. Aggiornamenti dell‚Äôinformativa</h3>
                    <p>L‚Äôinformativa pu√≤ essere aggiornata per adeguarsi a modifiche normative o organizzative. La versione pubblicata sul sito web del Titolare contiene la data dell‚Äôultimo aggiornamento: Gennaio 2026. Si raccomanda di consultare periodicamente la versione online.</p>
                    <h3>14. Ulteriori informazioni e contatti</h3>
                    <p>Per esercitare i diritti, per richiedere informazioni aggiuntive o per presentare reclamo:<br>
                    e-mail: matteo.masella@duemmeconsulting.it<br>
                    indirizzo postale: Via Pietro Colletta 70, 20137 Milano<br>
                    Per reclami indipendenti √® possibile rivolgersi al Garante per la protezione dei dati personali: www.garanteprivacy.it.</p>
                `,
                en: `
                    <p><strong>Extended Information Notice pursuant to Regulation (EU) 2016/679 (GDPR)</strong></p>
                    <h3>1. Data Controller</h3>
                    <p>The Data Controller is 2EMME RE&CONSULTING di Matteo Masella, with registered office at Via Pietro Colletta 70, 20137 Milan (VAT IT13411850962). For any communication regarding personal data processing, you can contact the Controller via email: matteo.masella@duemmeconsulting.it or by mail at: Via Pietro Colletta 70, 20137 Milan.</p>
                    <h3>2. Data Protection Officer (DPO)</h3>
                    <p>A Data Protection Officer (DPO) has not been appointed at this time. For specific requests regarding data protection, please contact the Controller at the contact details above.</p>
                    <h3>3. Purposes of Processing and Legal Bases</h3>
                    <p>Personal data collected is processed for the following purposes, with the corresponding legal basis:</p>
                    <ul>
                        <li>Execution of the tourist rental contract (e.g., booking management, check-in/out, issuing receipts/invoices, managing deposits, managing requests and ancillary services). Legal basis: performance of a contract (Art. 6(1)(b) GDPR).</li>
                        <li>Public security obligations: transmission of guest details to the Public Security Authority via the ‚ÄúAlloggiati Web‚Äù system pursuant to Art. 109 of T.U.L.P.S. and subsequent operational provisions. Legal basis: legal obligation (Art. 6(1)(c) GDPR).</li>
                        <li>Fiscal and accounting obligations: preservation and exhibition of accounting documents, issuing invoices, and tax compliance. Legal basis: legal obligation (Art. 6(1)(c) GDPR).</li>
                        <li>Protection of rights and property security: detection and management of damages, management of insurance claims and disputes. Legal basis: performance of the contract and legitimate interest of the Controller (Art. 6(1)(b) and 6(1)(f) GDPR).</li>
                        <li>Commercial communications and direct marketing (newsletters, promotions): only with prior express and separate consent of the data subject. Legal basis: consent (Art. 6(1)(a) GDPR).</li>
                    </ul>
                    <h3>4. Types of Data Processed</h3>
                    <p>Depending on the purpose, the following may be processed, among others:</p>
                    <ul>
                        <li>identification data (name, surname, date and place of birth);</li>
                        <li>data relating to the identity document (type, number, date, and issuing authority) necessary for Alloggiati Web and identity verification;</li>
                        <li>tax code;</li>
                        <li>contact data (postal address, email address, phone number);</li>
                        <li>contractual and booking data (arrival/departure dates, booking code, number of occupants);</li>
                        <li>payment and accounting data (bank transfer details, receipts, transaction details) in non-sensitive form, unless otherwise necessary;</li>
                        <li>any data voluntarily provided for special needs (allergies, special requests);</li>
                        <li>photographic or documentary recordings relating to any damages (only if necessary for documentation and dispute activities).</li>
                    </ul>
                    <h3>5. Processing Methods</h3>
                    <p>Data is processed using IT and/or paper tools, through organizational and logical procedures strictly correlated to the purposes indicated above. Suitable technical and organizational measures are adopted to ensure the confidentiality, integrity, availability, and resilience of systems and services, including access control, management of accounts with limited privileges, backups, updates, use of encrypted connections for communications, and internal security policies.</p>
                    <h3>6. Data Recipients</h3>
                    <p>Data may be communicated to:</p>
                    <ul>
                        <li>Public security authorities (via Alloggiati Web) and public entities where required by law;</li>
                        <li>Service providers necessary for the execution of the contract (e.g., booking platforms / OTAs, payment processing systems, cleaning and maintenance services) acting as data processors;</li>
                        <li>Professional consultants (accountants, lawyers) and banking institutions for accounting and tax management needs;</li>
                        <li>Third-party companies carrying out hosting, document preservation, or technological support activities on behalf of the Controller;</li>
                        <li>Judicial and administrative authorities in case of legitimate requests.</li>
                    </ul>
                    <p>All external subjects receive data as Data Processors and are bound by suitable contractual and confidentiality obligations.</p>
                    <h3>7. International Data Transfers</h3>
                    <p>If it is necessary to transfer data to third countries (non-EU), the Controller guarantees that the transfer will only take place to countries that ensure an adequate level of protection or through adequate guarantees (adequacy decision, standard contractual clauses approved by the European Commission, binding corporate rules, or other measures compliant with the GDPR). Upon request, indication of the adopted guarantees will be provided.</p>
                    <h3>8. Retention Periods</h3>
                    <p>Data will be retained for the time strictly necessary to achieve the purposes for which it was collected and within the limits imposed by applicable regulations:</p>
                    <ul>
                        <li>tax and accounting documents/data: 10 years (e.g., tax and accounting obligations);</li>
                        <li>data and documentation relating to Alloggiati Web communication and identity verification: kept in archives according to administrative practices and in any case for a period of not less than 5 years as good operational practice for evidentiary purposes in case of checks;</li>
                        <li>data relating to damage disputes and causes: for the period necessary to define the practice and for legal prescription terms;</li>
                        <li>data processed for marketing purposes: untill consent revocation.</li>
                    </ul>
                    <p>At the end of retention periods, data will be deleted or irreversibly anonymized, unless legal obligations impose longer retention.</p>
                    <h3>9. Rights of Data Subjects</h3>
                    <p>The data subject can exercise the rights provided by Arts. 15-22 of the GDPR:</p>
                    <ul>
                        <li>right of access to their personal data;</li>
                        <li>right to rectification of inaccurate data;</li>
                        <li>right to erasure (‚Äúright to be forgotten‚Äù) in provided cases;</li>
                        <li>right to restriction of processing;</li>
                        <li>right to data portability (when processing is based on consent or contract and data is processed by automated means);</li>
                        <li>right to object to processing for legitimate reasons;</li>
                        <li>right to lodge a complaint with the Supervisory Authority (Guarantor for the protection of personal data ‚Äî www.garanteprivacy.it).</li>
                    </ul>
                    <p>Requests must be addressed to the Controller at the email address matteo.masella@duemmeconsulting.it or via mail to: Via Pietro Colletta 70, 20137 Milan. Requests will be managed within the terms and methods provided by current regulations (normally within one month except for special cases).</p>
                    <h3>10. Consequences of Failure to Provide Data</h3>
                    <p>Providing data necessary for the execution of the contract and for the fulfillment of legal obligations (e.g., Alloggiati Web submission) is mandatory. Failure to provide such data may make it impossible to conclude or execute the contract (for example, impossibility to perform check-in or host the data subject). For other optional data (e.g., marketing data), provision is voluntary and failure to provide it does not prejudice the provision of the main service.</p>
                    <h3>11. Security Measures</h3>
                    <p>The Controller applies suitable technical and organizational measures for the protection of personal data, including:</p>
                    <ul>
                        <li>use of encrypted protocols (HTTPS/TLS) for online communications;</li>
                        <li>access control and management of accounts with limited privileges;</li>
                        <li>regular backups and retention policies;</li>
                        <li>training and limitation of access to appointed personnel;</li>
                        <li>contractual confidentiality obligations for external processors.</li>
                    </ul>
                    <p>These measures are periodically reviewed according to technological evolution and regulatory obligations.</p>
                    <h3>12. Profiling and Automated Decisions</h3>
                    <p>The Controller does not carry out decision-making processes based solely on automated processing that produce significant legal effects for the data subject, nor large-scale profiling activities without explicit consent. Should such processing be foreseen in the future, adequate information will be provided and, where required, consent will be acquired.</p>
                    <h3>13. Policy Updates</h3>
                    <p>This policy may be updated to adapt to regulatory or organizational changes. The version published on the Controller's website contains the date of the last update: January 2026. It is recommended to periodically consult the online version.</p>
                    <h3>14. Further Information and Contacts</h3>
                    <p>To exercise rights, request additional information, or lodge a complaint:<br>
                    email: matteo.masella@duemmeconsulting.it<br>
                    postal address: Via Pietro Colletta 70, 20137 Milan<br>
                    For independent complaints, you can contact the Guarantor for the protection of personal data: www.garanteprivacy.it.</p>
                `,
                es: `<p>Ver versi√≥n en Ingl√©s o Italiano. (See English or Italian version for full legal text)</p>`,
                fr: `<p>Voir version Anglaise ou Italienne. (See English or Italian version for full legal text)</p>`,
                de: `<p>Siehe englische oder italienische Version. (See English or Italian version for full legal text)</p>`,
                pt: `<p>Ver vers√£o em Ingl√™s ou Italiano. (See English or Italian version for full legal text)</p>`
            },

            // CHATBOT
            chatHeader: { it: "Assistente Virtuale", en: "Virtual Assistant", es: "Asistente", fr: "Assistant", de: "Assistent", pt: "Assistente" },
            chatPlaceholder: { it: "Scrivi qui...", en: "Type here...", es: "Escribe...", fr: "√âcrivez...", de: "Schreiben...", pt: "Escreva aqui..." },
            chatSend: { it: "Invia", en: "Send", es: "Enviar", fr: "Envoyer", de: "Senden", pt: "Enviar" },
            initialBotMessage: {
                it: "Ciao! Chiedi pure info su tassa di soggiorno (‚Ç¨9,50), supplementi o contratto.",
                en: "Hi! Ask about city tax (‚Ç¨9.50), surcharges, or contract.",
                es: "Hola. Pregunta sobre tasa (‚Ç¨9,50) o contrato.",
                fr: "Bonjour. Questions sur la taxe (‚Ç¨9,50) ?",
                de: "Hallo. Fragen zur Taxe (‚Ç¨9,50)?",
                pt: "Ol√°. Pergunte sobre taxa tur√≠stica (‚Ç¨9,50) ou contrato."
            }
        };

        const qaPairs = {
            it: { 'tassa': "‚Ç¨9,50 persona/notte.", 'costo': "Tassa ‚Ç¨9,50. Supplementi 4% est / 5% inv.", 'pulizie': "Long stay: ogni 14gg (Gratis).", 'inverno': "5% surcharge per costi gas." },
            en: { 'tax': "‚Ç¨9.50 pp/night.", 'winter': "5% surcharge for heating costs." }
        };
        
        const defaultResponses = { it: "Non ho capito.", en: "I didn't understand.", es: "?", fr: "?", de: "?", pt: "?" };

        let currentLang = 'it';
        let stayType = 'short';

        const chatBox = document.getElementById('chat-box');
        const userInput = document.getElementById('user-input');
        const sendBtn = document.getElementById('send-btn');

        function updateContent() {
            // Buttons logic
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`lang-${currentLang}`).classList.add('active');
            document.getElementById('stay-short').classList.toggle('active', stayType === 'short');
            document.getElementById('stay-long').classList.toggle('active', stayType === 'long');

            // Set Title
            const titleKey = stayType === 'short' ? 'mainTitleShort' : 'mainTitleLong';
            document.querySelector('[data-key="mainTitle"]').textContent = texts[titleKey][currentLang];

            // Set Dynamic Content Areas
            const payKey = stayType === 'short' ? 'paymentContentShort' : 'paymentContentLong';
            const costKey = stayType === 'short' ? 'costsListShort' : 'costsListLong';
            
            // Inject content
            document.querySelector('[data-key="paymentContent"]').innerHTML = texts[payKey][currentLang];
            document.getElementById('costs-container-target').innerHTML = texts[costKey][currentLang];

            // Static Text Updates
            // (Rest of the update logic remains same as previous code, ensuring all accordion contents are populated based on language)
            ['rulesList', 'greenList', 'visionContent', 'damageDetails', 'contractContent', 'privacyContent'].forEach(key => {
                 const el = document.querySelector(`[data-key="${key}"]`);
                 // Basic fallback if translation missing
                 const txt = (texts[key] && texts[key][currentLang]) ? texts[key][currentLang] : (texts[key] && texts[key]['it']); 
                 if(el) el.innerHTML = txt;
            });
            // Update other single text keys...
            const accessEl = document.querySelector('[data-key="accessibilityText"]');
            if(accessEl) accessEl.innerHTML = texts.accessibilityText[currentLang];
            
            document.querySelectorAll('[data-key]').forEach(elem => {
                const key = elem.dataset.key;
                if(['mainTitle','paymentContent','costsList','contractContent','damageDetails','privacyContent','rulesList','greenList','visionContent','accessibilityText'].includes(key)) return;
                if(texts[key] && texts[key][currentLang]) {
                    if(elem.tagName === 'INPUT') elem.placeholder = texts[key][currentLang];
                    else if(elem.classList.contains('quick-grid')) elem.innerHTML = texts[key][currentLang];
                    else elem.textContent = texts[key][currentLang];
                }
            });

            chatBox.innerHTML = '';
            appendMessage(texts.initialBotMessage[currentLang], 'bot-message');
        }

        ['it', 'en', 'es', 'fr', 'de', 'pt'].forEach(lang => {
            document.getElementById(`lang-${lang}`).addEventListener('click', () => { currentLang = lang; updateContent(); });
        });
        document.getElementById('stay-short').addEventListener('click', () => { stayType = 'short'; updateContent(); });
        document.getElementById('stay-long').addEventListener('click', () => { stayType = 'long'; updateContent(); });

        const accordions = document.getElementsByClassName("accordion");
        for (let i = 0; i < accordions.length; i++) {
            accordions[i].addEventListener("click", function() {
                this.classList.toggle("active");
                const panel = this.nextElementSibling;
                panel.style.maxHeight = panel.style.maxHeight ? null : panel.scrollHeight + "px";
                panel.style.padding = panel.style.maxHeight ? "30px 25px" : "0 25px";
            });
        }

        function handleUserInput() {
            const txt = userInput.value.trim().toLowerCase();
            if (!txt) return;
            appendMessage(txt, 'user-message');
            userInput.value = "";
            
            let resp = defaultResponses[currentLang];
            const pairs = qaPairs[currentLang] || qaPairs['it'];
            for (const k in pairs) { if(txt.includes(k)) { resp = pairs[k]; break; } }
            
            setTimeout(() => appendMessage(resp, 'bot-message'), 500);
        }

        function appendMessage(txt, cls) {
            const div = document.createElement('div');
            div.className = `chat-message ${cls}`;
            div.textContent = txt;
            chatBox.appendChild(div);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        sendBtn.addEventListener('click', handleUserInput);
        userInput.addEventListener('keypress', e => { if(e.key === 'Enter') handleUserInput(); });

        updateContent();
    });
</script>
</body>
</html>
